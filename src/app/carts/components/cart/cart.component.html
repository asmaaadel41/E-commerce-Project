<div class="cart mt-5 p-3">
  <h2 class="mb-3 text-danger">Shopping Cart</h2>
  <div class="d-flex justify-content-between align-items-center">
    <p>You have <span class="text-danger">{{cartProducts.length}}</span> item in your cart</p>
    <button type="button" class="btn btn-light rounded-0 py-2 px-3 text-danger" (click)="clearCart()">Clear Shopping
      Cart</button>
  </div>
  <div class="mt-3">
    <table class="table">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col">Name</th>
          <th scope="col">Price</th>
          <th scope="col" class="w-25">Quantity</th>
          <th scope="col">Total</th>
          <th></th>
        </tr>
      </thead>
      <tbody class="bg-light">
        <tr *ngFor="let item of cartProducts; let index  = index">
          <th scope="row"><img [src]="item.product.image" alt="Pic" width="60" height="60"></th>
          <td class="w-25">{{item.product.title}}</td>
          <td>{{item.product.price}} L.E</td>
          <td>
            <div class="quantity d-flex align-items-center justify-content-between">
              <button type="button" class="w-25 btn btn-dark rounded-0 form-control me-2"
                (click)="addAmount(index)">+</button>
              <input type="number" min="1" class="form-control rounded-0 me-2 w-50" (change)="detectChange()"
                [(ngModel)]="item.quantity">
              <button type="button" class="w-25 btn btn-dark rounded-0 form-control"
                (click)="minusAmount(index)">-</button>
            </div>
          </td>
          <td>{{item.product.price * item.quantity}} L.E</td>
          <td>
            <button type="button" class="btn btn-danger form-control rounded-0"
              (click)="deleteProduct(index)">Delete</button>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4" class="text-center p-4">
            <strong>Total:</strong> {{total}} L.E
          </td>
          <td colspan="2" class="p-4">
            <button type="button" class="btn btn-success form-control rounded-0" (click)="addCart()">Order Now</button>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
  <div class="send-success p-3" *ngIf="success">
    <p class="mb-0 text-white"><i>Well Done! Your Order Is Successfuly Send.</i></p>
  </div>
</div>
